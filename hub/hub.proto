
syntax = "proto3";

option java_multiple_files = true;
option java_package = "github.com.shellimsi.hub";
option java_outer_classname = "HubProto";

package hub;

service Connection {
    rpc Read(ReadRequest) returns (ReadResponse);
}

message ReadRequest {
    uint32 size = 1;
}

enum ConnectionErr {
    OK = 0;
    EOF = 1;
    UNEXPECTEDEOF = 2;
    SHORTWRITE = 3;
    CLOSEDPIPE = 4;
    NOERROR = 5;
}
message ReadResponse {
    uint32 size = 1;
    bytes data = 2;
    ConnectionErr err = 3;
    uint32 total_size = 4;
}


