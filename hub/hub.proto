
syntax = "proto3";

option java_multiple_files = true;
option java_package = "github.com.shellimsi.hub";
option java_outer_classname = "HubProto";

package hub;

service Connection {
    rpc Read(ReadRequest) returns (ReadResponse);
}

message ReadRequest {
    uint32 size = 1;
}

enum ConnectionErr {
    EOF = 0;
    UNEXPECTEDEOF = 1;
    SHORTWRITE = 2;
    CLOSEDPIPE = 3; 
    NOERROR = 4;
}
message ReadResponse {
    uint32 size = 1;
    bytes data = 2;
    ConnectionErr err = 3;
}


